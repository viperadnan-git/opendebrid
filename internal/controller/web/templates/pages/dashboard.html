{{define "content"}}
<h2>Dashboard</h2>

<div class="grid">
    <article>
        <header>Active Downloads</header>
        <p id="active-count" hx-get="/htmx/stats/active" hx-trigger="load, every 5s" hx-swap="innerHTML">
            Loading...
        </p>
    </article>
    <article>
        <header>Engines</header>
        <ul>
            {{range .Engines}}
            <li>{{.}}</li>
            {{else}}
            <li>No engines available</li>
            {{end}}
        </ul>
    </article>
    <article>
        <header>Node: {{.NodeID}}</header>
        <p>Status: <span class="status-completed">Online</span></p>
    </article>
</div>

<h3>Recent Downloads</h3>
<div hx-get="/htmx/downloads/recent" hx-trigger="load" hx-swap="innerHTML">
    <p aria-busy="true">Loading...</p>
</div>
{{end}}
